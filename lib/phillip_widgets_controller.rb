module PhillipWidgetsController
  
  #/////////////////////////////////////////////////////////////////////////////////////////////////////  
  def self.included(base)
    base.extend(ClassMethods)
  end

  #/////////////////////////////////////////////////////////////////////////////////////////////////////
  module ClassMethods
    def enable_phillip_widgets
      include PhillipWidgetsController::InstanceMethods
    end
  end

  #/////////////////////////////////////////////////////////////////////////////////////////////////////
  module InstanceMethods
    def phillip_widgets_checkbox_update 
      model=params[:model_name].camelize.constantize.find(params[:id])
      model.update_attribute(params[:field_name].to_sym,params[:svalue])
      model.save!
      render :text => ""
    end
  end    
  #/////////////////////////////////////////////////////////////////////////////////////////////////////

end